# Третье мнение - Платформа для консилиумов врачей

Платформа для безопасного общения врачей и проведения консилиумов по клиническим случаям.

## Описание проекта

"Третье мнение" - это веб-платформа, которая позволяет врачам:
- Регистрироваться и входить в систему
- Принадлежать к больнице (клинике) и отделению
- Создавать консилиумы (обсуждения клинических случаев)
- Приглашать других врачей в консилиум
- Обсуждать случаи в чате
- Запрашивать AI-резюме, дифференциальную диагностику и предложения по плану лечения
- Управлять медицинскими карточками пациентов

## Технологический стек

- **Backend**: Django 5.x
- **API**: Django REST Framework
- **База данных**: SQLite (для разработки), PostgreSQL (для продакшена)
- **Аутентификация**: Token Authentication (DRF)
- **Python**: 3.x

## Структура проекта

```
tretie_mnenie/
├── core/                    # Основная директория Django проекта
│   ├── manage.py
│   ├── core/               # Настройки проекта
│   │   ├── settings.py
│   │   ├── urls.py
│   │   └── views.py
│   ├── accounts/           # Приложение для пользователей и аутентификации
│   ├── hospitals/          # Приложение для больниц
│   └── patients/           # Приложение для пациентов и медицинских карточек
└── README.md
```

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/yourusername/tretie_mnenie.git
cd tretie_mnenie
```

### 2. Создание виртуального окружения

```bash
python -m venv env
# Windows
env\Scripts\activate
# Linux/Mac
source env/bin/activate
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Настройка базы данных

```bash
cd core
python manage.py migrate
```

### 5. Создание суперпользователя

```bash
python manage.py createsuperuser
```

### 6. Запуск сервера

```bash
python manage.py runserver
```

Сервер будет доступен по адресу: http://127.0.0.1:8000/

## API Endpoints

### Аутентификация

- `POST /api/accounts/register/` - Регистрация нового пользователя
- `POST /api/accounts/login/` - Вход в систему
- `GET /api/accounts/me/` - Информация о текущем пользователе

### Больницы

- `GET /api/hospitals/` - Список всех больниц
- `POST /api/hospitals/` - Создать больницу (требует авторизации)

### Пациенты и медицинские карточки

- `GET /api/patients/cabinet/` - Кабинет врача (статистика)
- `GET /api/patients/patients/` - Список пациентов врача
- `POST /api/patients/patients/` - Создать пациента
- `GET /api/patients/patients/<id>/` - Детали пациента
- `GET /api/patients/records/` - Список медицинских карточек
- `POST /api/patients/records/` - Создать медицинскую карточку
- `GET /api/patients/records/<id>/` - Детали карточки

### Главная страница

- `GET /` - Информация о всех доступных API endpoints

## Модели данных

### User (Пользователь)
- Email (основной идентификатор)
- Роль: superadmin, hospital_admin, doctor
- Связь с больницей

### Hospital (Больница)
- Название, город, адрес

### Patient (Пациент)
- ФИО, дата рождения, пол
- Контакты (телефон, email, адрес)
- Связь с больницей

### MedicalRecord (Медицинская карточка)
- Жалобы, диагноз, анамнез
- Аллергии, хронические заболевания
- Текущие препараты
- Связь с пациентом и врачом

### PatientDoctorRelation (Связь врач-пациент)
- Отслеживает, какой врач лечит какого пациента

## Аутентификация

API использует Token Authentication. После регистрации или входа вы получите токен, который нужно передавать в заголовке:

```
Authorization: Token <your_token_here>
```

## Права доступа

- **Врач**: видит только своих пациентов и их карточки
- **Администратор больницы**: видит всех пациентов своей больницы
- **Супер-администратор**: видит всех пациентов

## Разработка

### Создание миграций

```bash
python manage.py makemigrations
```

### Применение миграций

```bash
python manage.py migrate
```

### Django Admin

Админ-панель доступна по адресу: http://127.0.0.1:8000/admin/

## Будущие функции

- [ ] Консилиумы (обсуждения клинических случаев)
- [ ] Чат в реальном времени (Django Channels)
- [ ] AI-ассистент для дифференциальной диагностики
- [ ] Шаблоны консилиумов
- [ ] Уведомления
- [ ] Экспорт данных

## Лицензия

Этот проект создан для хакатона.

## Авторы

Команда разработки "Третье мнение"

