# Финальное решение: Установка пароля через переменные окружения

## Проблема
Django не доступен в SSH сессии Railway, но приложение работает. Это означает, что используется другой Python окружение.

## Решение: Использовать автоматическую установку через переменные окружения

Мы уже настроили автоматическую установку пароля в `setup_admin.py`. Просто добавьте переменные окружения на Railway:

### Шаги:

1. **Откройте Railway Dashboard:** https://railway.app
2. **Откройте ваш проект**
3. **Откройте ваш сервис** (не базу данных)
4. **Перейдите в Settings → Variables**
5. **Добавьте две переменные:**
   - **Имя:** `ADMIN_EMAIL`
   - **Значение:** `icq38307288@gmail.com`
   
   - **Имя:** `ADMIN_PASSWORD`
   - **Значение:** `Admin123!@#`
6. **Сохраните переменные**

### Что произойдет:

При следующем деплое (или перезапуске сервиса) Railway выполнит:
1. `python manage.py migrate` - применит миграции
2. `python setup_admin.py` - установит пароль администратора автоматически
3. `gunicorn core.wsgi` - запустит сервер

### Проверка:

После добавления переменных:
1. Railway автоматически перезапустит сервис
2. В логах деплоя вы увидите: `Пароль администратора icq38307288@gmail.com успешно обновлен`
3. Попробуйте войти в админку:
   - URL: `https://web-production-5dc97.up.railway.app/admin/`
   - Email: `icq38307288@gmail.com`
   - Password: `Admin123!@#`

---

## Альтернатива: Принудительный перезапуск

Если переменные уже добавлены, но пароль не установился:

1. В Railway Dashboard откройте ваш сервис
2. Перейдите в "Deployments"
3. Найдите последний деплой
4. Нажмите "Redeploy" или "Restart"

Это запустит стартовую команду заново, и `setup_admin.py` установит пароль.

---

## Проверка логов

После деплоя проверьте логи:
1. Откройте "Deployments" → последний деплой
2. Откройте "View Logs"
3. Найдите строку: `Пароль администратора ... успешно обновлен`

Если видите эту строку - пароль установлен!

